<!doctype html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel='stylesheet' href='style.css'>
    <script defer src='template.js'></script>
    <script defer src='utils.js'></script>
    <script defer src='async_storage.js'></script>
    <script defer src='fake-data.js'></script>
    <script defer src='results-display.js'></script>
    <script defer src='form-persistence.js'></script>
    <script defer src='form-interaction.js'></script>
    <script defer src='signature-editor.js'></script>
  </head>
  <body>
    <section class='choose-form'>
      <form class='choose-weeks-form hide-future'>
        <div class='controls'>
          <button>Generate form</button>
          <input type='range' class='easy-selector-range' value='0'></input>
          <label><input type='checkbox' class='show-future-checkbox'> Show future</label>
        </div>
      </form>
    </section>

    <!-- PTO FORM -->
    <section class='pto-form' hidden>
      <h1>Décompte des heures de travail plafonné en jours sur l'année</h1>
      <h2 lang='en'>Monitoring form of working hours capped in days over the year</h2>
      <div class='worker-information'>
        <div class='who'>Nom (<em lang='en'>name</em>): <span class='last-name' contenteditable='true' data-persist='last-name'>Lastname</span></div>
        <div>Poste (<em lang='en'>position</em>): <span class='position' contenteditable='true' data-persist='position'>Engineer</span></div>
      </div>

      <table class='worked-days-table'>
        <thead>
          <tr>
            <td></td>
            <th>Lundi <em lang='en'>(Monday)</em></th>
            <th>Mardi <em lang='en'>(Tuesday)</em></th>
            <th>Mercredi <em lang='en'>(Wednesday)</em></th>
            <th>Jeudi <em lang='en'>(Thursday)</em></th>
            <th>Vendredi <em lang='en'>(Friday)</em></th>
            <th>Total</th>
          </tr>
        </thead>
      </table>
      <p>
        Dans la limite de 220 jours par an et sous réserve du respect des
        congés d'ancienneté.
      </p>
      <p lang='en'>
        Within the limit of 220 days per year and subject to the
        compliance with seniority vacation.
      </p>
      <section class='absence-codes'>
        <h3>
          Codes d'absence
          <em lang='en'>(Absence codes)</em>
        </h3>
        <dl>
          <dt>CP</dt>
          <dd>Congés payés <span lang='en'>(Paid vacation)</span></dd>
          <dt>JF</dt>
          <dd>Jour férié <span lang='en'>(Rest day)</span></dd>
          <dt>A</dt>
          <dd>Anniversaire <span lang='en'>(B-day day off)</span></dd>
          <dt>CSS</dt>
          <dd>Congé sans solde <span lang='en'>(Unpaid leave)</span></dd>
          <dt>R</dt>
          <dd>Jour RTT</dd>
          <dt>M</dt>
          <dd>Arrêt maladie <span lang='en'>(Sickness)</span></dd>
        </dl>
      </section>
      <p>
        A retourner à Fabienne chaque mois. Le <i>country ambassador</i> signera le document par la suite.
      </p>
      <p lang='en'>
        To be returned to Fabienne each month. The <i>country ambassador</i> will sign the document later.
      </p>
      <footer>
        <div class='date-information'>Date: <span class='date-value'></span></div>
        <div class='worker-signature signature-box'>
          <span class='signature' data-persist='employee-signature' data-persist-type='image'></span>
          <span class='editable-name'>
            <span data-persist='last-name' contenteditable='true'>
            </span>
            <span class='name-information'>[Le salarié]</span>
          </span>
        </div>
        <div class='manager-signature signature-box'>
          <span class='signature' data-persist='manager-signature' data-persist-type='image'></span>
          <span class='editable-name'>
            <div data-persist='manager-last-name' contenteditable='true'>
            </div>
            <span class='name-information'>[Le responsable]</span>
          </span>
        </div>
      </footer>
    </section>

    <section class='signature-editor' tabindex="-1" hidden>
      <canvas class='signature-canvas' width='810' height='180'></canvas>
      <div class='signature-editor-controls'>
        <button type='button' class='signature-editor-clear-button'>Clear</button>
        <button type='button' class='signature-editor-finish-button'>Finish</button>
        <button type='button' class='signature-editor-cancel-button'>Cancel</button>
      </div>
    </section>

    <div id='week-template' hidden><!--
    <label class='week-line week-${id} ${futureClass}' data-start='${weekStart}' data-end='${weekEnd}'>
      <input type='checkbox'> Semaine du ${weekStartText} au ${weekEndText}
    </label>
    --></div>

    <div id='form-row-template' hidden><!--
      <tr class='absence-row'>
        <th>Absence
          <div>Semaine du <span class='from'>${weekStart}</span> au <span class='to'>${weekEnd}</span></div>
          <div lang='en'>Week from <span class='from'>${weekStartUS}</span> to <span class='to'>${weekEndUS}</span></div>
        </th>
        ${cells}
        <td class='total'>${total}</td>
      </tr>
    --></div>
    <div id='form-cell-template' hidden><!--
      <td class='holiday-cell' data-holiday-index='${holidayIndex}'>
        <button type='button' class='unlink-button' aria-title='This cell is linked to other cells for this holiday. Click to unlink.'></button>
        <div contenteditable="true" class='${className}'>${type}</div>
      </td>
    --></div>
  </body>
</html>
